<pru>
  <Start>
    <SVU>
      _robot := diago
    </SVU>
    <Next> 
      1.wait
    </Next>
  </Start>
  <Layer id='1'>
    <StateVariable id='_robot' />
    <Action id='wait'>
      <Outcome id='entry' p='0.25'>
	<Duration kind='null' const='1' />
	<Observe> ! personAt(Entrance) \amp; ! personAt(Printer) </Observe>
	<Next> 
	  1.wait
	  2.welcome
	</Next>
      </Outcome>
      <Outcome id='entry' p='0.25'>
	<Duration kind='null' const='1' />
	<Observe> personAt(Entrance) \amp; ! personAt(Printer) </Observe>
	<Next> 
	  1.wait
	  2.welcome
	</Next>
      </Outcome>
      <Outcome id='print' p='0.25'>
	<Duration kind='null' const='1' />
	<Observe> personAt(Printer) \amp; ! personAt(Entrance) </Observe>
	<Next> 
	  1.wait
	  2.go <!--(Printer)-->
	</Next>
      </Outcome>
      <Outcome id='both' p='0.25'>
	<Duration kind='null' const='1' />
	<Observe> personAt(Entrance) \amp; personAt(Printer) </Observe>
	<Next> 
	  1.wait
	  2.welcome
	  2.go <!--(Printer)-->
	</Next>
      </Outcome>
    </Action>
  </Layer>
  <Layer id='2'>
    <Action id='welcome'>
      <Outcome id='done' p='1'>
	<Quality kind='null' const='100' />
	<Duration kind='null' const='30' />
	<Next> 4.restart </Next>
      </Outcome>
    </Action>
    <Action id='go'>
      <Parameter id='X'>
	Printer
      </Parameter>
      <Outcome id='ok' p='0.75'>
	<Duration kind='distanceEntrancePrinter' const='1' />
	<Observe> personAt(Printer) </Observe>
	<Next>
	  2.assist 
	</Next>
      </Outcome>
      <Outcome id='err' p='0.25'>
	<Duration kind='distanceEntrancePrinter' const='1' />
	<Observe> ! personAt(Printer) </Observe>
	<Next>
	  4.restart 
	</Next>
      </Outcome>
    </Action>
    <Action id='assist'>
      <Outcome id='done' p='0.34'>
	<Quality kind='null' const='100' />
	<Duration kind='null' const='15' />
	<Observe> answer(None) </Observe>
	<Next> 4.go <!--(Entrance)--> </Next>
      </Outcome>
      <Outcome id='bring' p='0.33'>
	<Quality kind='null' const='100' />
	<Duration kind='null' const='30' />
	<Observe> answer(BringDocument) </Observe>
	<Next> 3.goSpecifiedPerson </Next>
      </Outcome>
      <Outcome id='help' p='0.34'>
	<Quality kind='null' const='100' />
	<Duration kind='null' const='15' />
	<Observe> answer(HelpNeeded) </Observe>
	<Next> 3.go <!--(Tech)--> </Next>
      </Outcome>
    </Action>
  </Layer>
  <Layer id='3'>
    <Action id='goSpecifiedPerson'>
      <Outcome id='done' p='1.0'>
	<Duration kind='null' const='1' /> <!-- No way to estimate cost -->
	<Next> 3.giveDocument </Next>
      </Outcome>
    </Action>
    <Action id='go'>
      <Parameter id='X'>
	Tech
      </Parameter>
      <Outcome id='done' p='1.0'>
	<Duration kind='distancePrinterTech' const='1' />
	<Next> 3.explain </Next>
      </Outcome>
    </Action>
    <Action id='giveDocument'>
      <Outcome id='done' p='1.0'>
	<Quality kind='null' const='100' />
	<Duration kind='null' const='15' />
	<Next> 4.go <!--(Entrance)--> </Next>
      </Outcome>
    </Action>
    <Action id='explain'>
      <Outcome id='done' p='1.0'>
	<Quality kind='null' const='100' />
	<Duration kind='null' const='15' />
	<Next> 4.go <!--(Entrance)--> </Next>
      </Outcome>
    </Action>
  </Layer>
  <Layer id='4'>    
    <Action id='go'>
      <Parameter id='X'>
	Entrance
      </Parameter>
      <Outcome id='done' p='1.0'>
	<Duration kind='null' const='1' /> <!-- No way to estimate cost -->
	<Next> 4.restart </Next>
      </Outcome>
    </Action>
    <Action id='restart'>
      <Outcome id='done' p='1.0'>
	<Duration kind='null' const='1' />
	<Next> 4.restart </Next>
	<Final label='restart'/>
      </Outcome>
    </Action>
  </Layer>
</pru>
